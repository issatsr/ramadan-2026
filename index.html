<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan 2026 - ElazÄ±ÄŸ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-color: #2e7d32;
            --accent-color: #f9a825;
            --bg-color: #f4f7f6;
            --text-color: #333;
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø­Ø§Ù„Ø§Øª */
            --past-bg: #ffcdd2;       /* Ø£Ø­Ù…Ø± Ù„Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© */
            --today-bg: #c8e6c9;      /* Ø£Ø®Ø¶Ø± Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ */
            --tomorrow-bg: #fff9c4;   /* Ø£ØµÙØ± Ù„Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        /* ÙØ±Ø¶ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© */
        .english-num {
            font-family: 'Arial', sans-serif;
            direction: ltr;
            unicode-bidi: embed;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .btn-download {
            background-color: #d84315;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            font-family: inherit;
        }
        .btn-download:hover { background-color: #bf360c; }

        .status-box {
            background: linear-gradient(135deg, var(--primary-color), #1b5e20);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.15);
        }

        #clock {
            font-size: 2.5rem;
            font-weight: bold;
            font-family: 'Arial', sans-serif; /* Ø£Ø±Ù‚Ø§Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© */
        }

        #countdown {
            font-size: 1.3rem;
            margin-top: 10px;
            color: var(--accent-color);
            font-weight: bold;
            font-family: 'Arial', sans-serif;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            font-family: 'Arial', sans-serif; /* Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
        }

        th, td {
            padding: 12px 8px;
            border-bottom: 1px solid #eee;
            text-align: center;
            font-size: 1rem;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: normal;
            font-family: 'Segoe UI', Tahoma, sans-serif; /* Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
        }

        /* --- Ø§Ù„Ø­Ø§Ù„Ø§Øª (Ø£Ù‡Ù… Ø¬Ø²Ø¡) --- */
        
        /* Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø£Ø®Ø¶Ø±) */
        tr.active-day {
            background-color: var(--today-bg) !important;
            font-weight: bold;
            border: 2px solid var(--primary-color);
        }

        /* Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ (Ø£ØµÙØ±) */
        tr.next-day {
            background-color: var(--tomorrow-bg) !important;
        }

        /* Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© (Ø£Ø­Ù…Ø± + Ø´Ø·Ø¨) */
        tr.finished {
            background-color: var(--past-bg) !important;
            color: #777;
        }
        tr.finished td {
            text-decoration: line-through;
            text-decoration-color: #d32f2f;
            text-decoration-thickness: 2px;
        }

        .eid-row {
            background-color: var(--accent-color) !important;
            color: #fff !important;
            font-weight: bold;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø®Ø§Øµ Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© PDF */
        #print-area {
            padding: 10px;
            background: white;
        }
        
        @media (max-width: 600px) {
            table { font-size: 0.8rem; }
            th, td { padding: 8px 2px; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="status-box">
        <div id="clock">00:00:00</div>
        <div id="countdown">Loading...</div>
    </div>
    
    <button class="btn-download" onclick="downloadPDF()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ù…Ø³Ø§ÙƒÙŠØ© PDF ğŸ“¥</button>

    <div id="print-area">
        <div style="text-align: center; margin-bottom: 20px;">
            <h1 style="color: #2e7d32; margin:0;">Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† 2026</h1>
            <h3 style="color: #555; margin:5px;">ÙˆÙ„Ø§ÙŠØ© Ø¥ÙŠÙ„Ø§Ø²ÙŠØº - ØªØ±ÙƒÙŠØ§ (ElazÄ±ÄŸ)</h3>
        </div>

        <table id="ramadanTable">
            <thead>
                <tr>
                    <th>Ø±Ù…Ø¶Ø§Ù†</th>
                    <th>Ø§Ù„ÙŠÙˆÙ…</th>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                    <th>Ø§Ù„Ø¥Ù…Ø³Ø§Ùƒ</th>
                    <th>Ø§Ù„ÙØ¬Ø±</th>
                    <th>Ø§Ù„ØºØ±ÙˆØ¨</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                </tbody>
        </table>
    </div>
</div>

<script>
    // ==========================================
    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    // ==========================================
    
    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¯Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù† 18 Ø´Ø¨Ø§Ø· 2026 (ÙÙ„ÙƒÙŠØ§Ù‹ Ù‡Ùˆ ÙŠÙˆÙ… Ø£Ø±Ø¨Ø¹Ø§Ø¡)
    const startDate = new Date("2026-02-18"); 
    const ramadanDays = [];

    // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø´Ù‡Ø± ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª
    const months = {
        1: "Shubat", // ÙØ¨Ø±Ø§ÙŠØ±
        2: "Adhar"   // Ù…Ø§Ø±Ø³
    };

    const daysAr = ["Ø§Ù„Ø£Ø­Ø¯", "Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†", "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ø§Ù„Ø®Ù…ÙŠØ³", "Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ø³Ø¨Øª"];

    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (30 ÙŠÙˆÙ…)
    // Ù‡Ø§Ù…: Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª ØªÙ‚Ø±ÙŠØ¨ÙŠØ©ØŒ ÙŠØ¬Ø¨ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ Ø¹Ù†Ø¯ ØµØ¯ÙˆØ± Ø§Ù„Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø§Ù„Ø±Ø³Ù…ÙŠØ©
    let imsakMins = 38; // 05:38
    let maghribMins = 4; // 18:04

    for (let i = 0; i < 30; i++) {
        let currentDate = new Date(startDate);
        currentDate.setDate(startDate.getDate() + i);
        
        // Ù…Ø­Ø§ÙƒØ§Ø© ØªØºÙŠØ± Ø§Ù„ÙˆÙ‚Øª
        imsakMins -= 1.2; 
        maghribMins += 1.1;
        
        let imsakH = 5; let imsakM = Math.floor(imsakMins);
        let maghribH = 18; let maghribM = Math.floor(maghribMins);

        if (maghribM >= 60) { maghribH++; maghribM -= 60; }
        
        // ØµÙŠØ§ØºØ© Ø§Ù„ÙˆÙ‚Øª
        let imsakStr = `0${imsakH}:${imsakM < 10 ? '0'+imsakM : imsakM}`;
        let fajrStr  = `0${imsakH}:${(imsakM+10) < 10 ? '0'+(imsakM+10) : (imsakM+10)}`; 
        let maghribStr = `${maghribH}:${maghribM < 10 ? '0'+maghribM : maghribM}`;
        
        // ØµÙŠØ§ØºØ© Ø§Ù„ØªØ§Ø±ÙŠØ® (18 Shubat)
        let dayNum = currentDate.getDate();
        let monthName = months[currentDate.getMonth()]; // 1=feb, 2=march (Ù„Ø§Ù† getMonth ÙŠØ¨Ø¯Ø£ Ù…Ù† 0 Ù„Ù€ ÙŠÙ†Ø§ÙŠØ±)
        // ØªØµØ­ÙŠØ­ ÙÙ‡Ø±Ø³ Ø§Ù„Ø´Ù‡Ø± Ù„Ù„ÙƒØ§Ø¦Ù† Ø£Ø¹Ù„Ø§Ù‡ (0=Jan, 1=Feb, 2=Mar)
        let mIndex = currentDate.getMonth(); 
        let mName = (mIndex === 1) ? "Shubat" : "Adhar";

        ramadanDays.push({
            ramadan: i + 1,
            dayName: daysAr[currentDate.getDay()],
            dateStr: `${dayNum} ${mName}`,
            fullDate: currentDate.toISOString().split('T')[0], // Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©
            imsak: imsakStr,
            fajr: fajrStr,
            maghrib: maghribStr
        });
    }

    // ==========================================
    // Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¹Ø±Ø¶
    // ==========================================

    function renderTable() {
        const tableBody = document.getElementById('tableBody');
        tableBody.innerHTML = "";
        
        const now = new Date();
        const todayStr = now.toISOString().split('T')[0];
        
        // Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØºØ¯
        let tomorrow = new Date(now);
        tomorrow.setDate(tomorrow.getDate() + 1);
        const tomorrowStr = tomorrow.toISOString().split('T')[0];

        ramadanDays.forEach(row => {
            let tr = document.createElement('tr');
            
            // Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„ÙˆÙ†ÙŠ
            if (row.fullDate === todayStr) {
                tr.className = 'active-day'; // Ø£Ø®Ø¶Ø±
            } else if (row.fullDate === tomorrowStr) {
                tr.className = 'next-day'; // Ø£ØµÙØ±
            } else if (row.fullDate < todayStr) {
                tr.className = 'finished'; // Ø£Ø­Ù…Ø± Ù…Ø´Ø·ÙˆØ¨
            }

            tr.innerHTML = `
                <td class="english-num">${row.ramadan}</td>
                <td>${row.dayName}</td>
                <td class="english-num">${row.dateStr}</td>
                <td class="english-num">${row.imsak}</td>
                <td class="english-num">${row.fajr}</td>
                <td class="english-num">${row.maghrib}</td>
            `;
            tableBody.appendChild(tr);
        });

        // ØµÙ Ø§Ù„Ø¹ÙŠØ¯
        let eidTr = document.createElement('tr');
        eidTr.className = 'eid-row';
        eidTr.innerHTML = `
            <td colspan="3">Eid Al-Fitr</td>
            <td colspan="3" class="english-num">Prayer: 06:15 AM (20 Adhar)</td>
        `;
        tableBody.appendChild(eidTr);
    }

    // ==========================================
    // Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆØ§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
    // ==========================================
    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString('en-US', {hour12: false});

        let nextEvent = null;
        let label = "";
        
        // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù‚Ø§Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…
        let todayData = ramadanDays.find(d => d.fullDate === now.toISOString().split('T')[0]);

        if (todayData) {
            let imsakT = new Date(`${todayData.fullDate}T${todayData.imsak}:00`);
            let fajrT = new Date(`${todayData.fullDate}T${todayData.fajr}:00`);
            let maghribT = new Date(`${todayData.fullDate}T${todayData.maghrib}:00`);

            if (now < imsakT) {
                nextEvent = imsakT; label = "Imsak";
            } else if (now < fajrT) {
                nextEvent = fajrT; label = "Fajr";
            } else if (now < maghribT) {
                nextEvent = maghribT; label = "Maghrib";
            }
        }

        // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙŠÙˆÙ…ØŒ Ù†Ø¨Ø­Ø« Ø¹Ù† Ø¥Ù…Ø³Ø§Ùƒ Ø§Ù„ØºØ¯
        if (!nextEvent) {
            let tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 1);
            let tStr = tomorrow.toISOString().split('T')[0];
            let tData = ramadanDays.find(d => d.fullDate === tStr);
            
            if (tData) {
                nextEvent = new Date(`${tStr}T${tData.imsak}:00`);
                label = "Next Imsak";
            } else {
                label = "Eid Mubarak";
            }
        }

        const countdownEl = document.getElementById('countdown');
        if (nextEvent) {
            const diff = nextEvent - now;
            const h = Math.floor(diff / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.innerHTML = `Next: ${label} <br> ${h}h : ${m}m : ${s}s`;
        } else {
            countdownEl.innerText = label;
        }
    }

    // ==========================================
    // ÙˆØ¸ÙŠÙØ© ØªØ­Ù…ÙŠÙ„ PDF
    // ==========================================
    function downloadPDF() {
        const element = document.getElementById('print-area');
        const opt = {
            margin:       0.5,
            filename:     'Imsakiye_Ramadan_2026_Elazig.pdf',
            image:        { type: 'jpeg', quality: 0.98 },
            html2canvas:  { scale: 2 },
            jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
        };
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØªØ¨Ø©
        html2pdf().set(opt).from(element).save();
    }

    // ØªØ´ØºÙŠÙ„
    renderTable();
    setInterval(updateClock, 1000);
    updateClock();

</script>

</body>
</html>
